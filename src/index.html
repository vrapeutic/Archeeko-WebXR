<html>
    <head>
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
        <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.2/dist/aframe-extras.min.js"></script>
        <script src="https://unpkg.com/aframe-aabb-collider-component@3.1.0/dist/aframe-aabb-collider-component.min.js"></script>
        <script src="https://unpkg.com/aframe-gradient-sky@1.0.4/dist/gradientsky.min.js"></script>
        <script src="../assets/custom/aframe-spe-particles-component.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js"></script>
<style>
  body {
    font-family: "Abel", sans-serif;
    background-color:azure;
    font-size: larger;
  }

  button {
    font-family: "Abel", sans-serif;
  }

  .button-cls {
    font-family: "Abel", sans-serif;
    border-radius: 5px;
    background-color: #25b2c2;
    border: none;
    color: #FFFFFF;
    text-align: center;
    font-size: 25px;
    -webkit-transition-duration: 0.4s;
    transition-duration: 0.4s;
    text-decoration: none;
    overflow: hidden;
    cursor: pointer;
    margin: 5px;
  }

  .button-cls:hover {
    background-color: #3e8e41
  }

  /* .center {
    margin: 0 auto;
    width: 80%;
    text-align: center;
    width: 70%;
    height: 70%;
    
    position: absolute;
    top:0;
    bottom: 0;
    left: 0;
    right: 0;
      
    margin: auto;
  } */
</style>     
</head>
<body>
  <div id="dr-menu"  class="center">
  
    <h>Select langauge</h>
    <br>
    <button class="button button-cls" onclick="set_language('A')">Arabic </button>
    <button class="button button-cls" onclick="set_language('E')">English </button>
    <br> <br>
    <h>Select level</h>
    <br>
    <button class="button button-cls" onclick="set_level(1)">level 1</button>
    <button class="button button-cls" onclick="set_level(2)">level 2</button>
    <button class="button button-cls" onclick="set_level(3)">level 3</button>
    <br> <br> 
    <h>Select timer</h>
    <br>
    <button class="button button-cls" onclick="set_timer(30)"> 30</button>
    <button class="button button-cls" onclick="set_timer(60)"> 60</button>
    <button class="button button-cls" onclick="set_timer(90)"> 90</button>
    <button class="button button-cls" onclick="set_timer(0)"> open </button>
    <br> <br>
    <h>Select Arrows</h>
    <br>
    <button class="button button-cls" onclick="set_arrows(25)">25</button>
    <button class="button button-cls" onclick="set_arrows(75)">75</button>
    <button class="button button-cls" onclick="set_arrows(120)">120</button>
    <br> <br>
    <h>Select Distance</h>
    <br>
    <button class="button button-cls" onclick="set_z(3)">5</button>
    <button class="button button-cls" onclick="set_z(0)">7</button>
    <button class="button button-cls" onclick="set_z(-3)">10</button>
    <br> <br>  
    <h>Select npc</h>
    <br>
    <button class="button button-cls" onclick="set_npc('male')">Male</button>
    <button class="button button-cls" onclick="set_npc('female')">Female</button>
       <br> <br>
 <br> <br>
    <button class="button button-cls" onclick="start_game()">Start</button>
  </div>
  <div id="game" style="visibility: hidden;">

    <a-scene   physics="iterations: 40"   restitutation="0.7" renderer="antialias: true" inspector="url: https://cdn.jsdelivr.net/gh/aframevr/aframe-inspector@master/dist/aframe-inspector.min.js" >

        <a-assets>
          <a-asset-item id = "butterfly" src="https://cdn.glitch.com/5133a850-d5e7-4a97-91c0-7fdb4a51d65e%2FButterfly.glb?v=1607868452056"></a-asset-item>
      
              <a-asset-item id="target" src="https://cdn.glitch.com/7de25775-9f1e-45af-8694-b18f418e6c6a%2FGarden_Tree01_v1.01.glb?v=1607334759579"
               response-type="arraybuffer"></a-asset-item>
       </a-assets>
       
       <a-entity id="updateMe"></a-entity>
  
        <!--sky  <a-sky src="#starsky"></a-sky>
  -->
  <a-plane static-body material="color: #dbb014"  width="80" height="80" rotation="-90 0 180" position="0 -1.71 0"></a-plane>   <!--lights-->
  
     <a-entity id="updateMe"></a-entity>
  
           <!--Camera-->
        <a-camera id="cam" rotation="22.001579333023617 2.8647889756541156 2" movement-controls="speed: 0.15 constrainToNavMesh:true" position="-2 1.6 5" look-controls="pointerLockeEnabled:true" >
          <a-entity cursor="rayOrigin: mouse" ></a-entity>
          <a-gltf-model   id="shooter" push  rotation="15.656071751949744 92.12244613231428 2"  scale="0.2 0.2 0.2" position="0.04207 -0.31496 -0.8795" src="../assets/Sniper_Rifle.glb" scale="2 2 2" visible="true" >
          </a-gltf-model> 
<a-box id="CamTrigger" static-body
  scale="10 10 1" position="0 0 1" aabb-collider="objects:#enemy"></a-box>
         </a-camera>
  
         <!--Hands-->
         
         <a-entity progressive-controls></a-entity>
  
         <a-entity hand-controls="hand: left; handModelStyle: lowPoly; color: #ffcccc"  aabb-collider="objects: .boxs;" sphere-collider="objects: .throwable" class = "hand"  static-body="shape: sphere; sphereRadius: 0.02;"    grab   ></a-entity>
         <a-entity hand-controls="hand: right; handModelStyle: lowPoly; color: #ffcccc" aabb-collider="objects: .boxs;" sphere-collider="objects: .throwable" static-body="shape: sphere; sphereRadius: 0.02;"grab 
             class = "hand"></a-entity>
         <a-entity laser-controls="hand: right" raycaster="objects: .boxs; far: 100"></a-entity>
               

       <!--Menu-Buttons-->
           <a-text id="counter" value="0" geometry="primitive:plane"visible="true" position="-4.19846 1 1" ></a-text>
           <a-text id="score" value="0" geometry="primitive:plane"visible="true" position="-4.19846 2 1" ></a-text>
           <a-text id="bulletCounter" value="55" geometry="primitive:plane"visible="true" position="-4.19846 3 1" ></a-text>
           <a-text id="level" value="3" geometry="primitive:plane"visible="true" position="-4.19846 4 1" ></a-text>
           <a-text id="timer" value="30" geometry="primitive:plane"visible="true" position="4 1 1"  ></a-text>
      




  <a-entity id= "TheTree" postion="-4 0 0">
        <a-box  id="Beach" class="boxs"  scale="0.4 .4 .4"   position="-2.19846 0.05324 -3"  aabb-collider="objects:#bullet"  color="#4CC3D9" lookat="#cam"  clickable 
        event-set__click="_event: click; _target:#selectenvironment; value:Beach " 
  
        >
      </a-box>    

       <a-box  id="Library"  scale="0.4 .4 .4"  class="boxs" aabb-collider="objects:#bullet" position="-1.88719 1.5 -3"     color="#4CC3D9" lookat="#cam"   
        event-set__click="_event: mouseenter; _target:#selectenvironment; value:Library"
  
        >

  
      </a-box>    
  
        <a-box  id="Garden"   scale="0.4 .4 .4"  class="boxs" aabb-collider="objects:#bullet"   position="-1.4 0.37967 -3"    color="#4CC3D9" lookat="#cam"   
        event-set__click="_event: mouseenter; _target:#selectenvironment; value:Garden;" 
       >

      </a-box>    
            <a-entity id="targetone"   class="Box" gltf-model="#target" shadow="receive: true" position="-1.78878 0 -3.6332"     amimation-mixer="enabled:false" rotation="0 2 1" shadow >
      </a-entity> 

       <!----------butterfly target path-->
       <a-box id="box" position="-3.08328 0.1 -3.41235"  visible="false" depth="0.4" width = "0.4" height = "0.4" position = "0 0.1 -0.1"  aabb-collider="objects:a-cylinder, a-sphere,a-box" class = "bTarget"
            
       ></a-box>   
         <a-box id="box1" position="0.55281 0.1 1.48203" visible="false" depth="0.4" width = "0.4" height = "0.4" position = "1 0.1 1"  aabb-collider="objects: a-cylinder,a-sphere,a-box" class = "bTarget"
       
       ></a-box> 
    <a-box id="box2" position="0.56386 0.1 -3.66149" visible="false" depth="0.4" width = "0.4" height = "0.4" position = "1 0.1 -1"  aabb-collider="objects: a-cylinder,a-sphere,a-box"  class = "bTarget"
       
       ></a-box> 
     <a-box id="box3" position="-1 0.1 3.73918" visible="false" depth="0.4" width = "0.4" height = "0.4" position = "-1 0.1 -1"  aabb-collider="objects: a-cylinder,a-sphere,a-box" class = "bTarget"
       
       ></a-box>  
    <a-box id="box4" position="-3.00254 0.1 1.15781" visible="false" depth="0.4" width = "0.4" height = "0.4" position = "-1 0.1 1"  aabb-collider="objects: a-cylinder,a-sphere,a-box"  class = "bTarget"
       
       ></a-box>  
       <a-gltf-model id="butterflymodel" src="#butterfly" position = "0 0 -1" scale="5 5 5" animation-mixer  ></a-gltf-model>
  </a-entity>
  </a-scene> </div>

   
    </body>
    <script> 
 /*   function set_language(lang){
  sessionStorage.setItem('langauage',lang);

    var data = {
      funcName: 'set_language',
      params: [
        lang
      ]
    }

}
function set_npc(npc){
  if(sessionStorage.getItem('langauage') =='A') {
    if(npc =='male') {
      sessionStorage.setItem('npc','H');  
  //    alert(sessionStorage.getItem('npc'));
    }
    else {
      sessionStorage.setItem('npc','Re');  
    //    alert(sessionStorage.getItem('npc'));
    }
  }
  else {
    if(npc =='male') {
      sessionStorage.setItem('npc','Ri');  
      //alert(sessionStorage.getItem('npc'));
    }
    else {
      sessionStorage.setItem('npc','L');  
        // alert(sessionStorage.getItem('npc'));
    } 
  }
}
    function set_level(level){
      sessionStorage.setItem('level',level);  
     //  alert(sessionStorage.getItem('level'));
        var data = {
          funcName: 'set_level',
          params: [
            level
          ]
        }
        document.getElementById('level').setAttribute('value',level);
       
      }
      function set_z(z){
      sessionStorage.setItem('z',z);  
     //  alert(sessionStorage.getItem('level'));
        var data = {
          funcName: 'set_z',
          params: [
            z
          ]
        }
        document.getElementById('TheTree').object3D.position.z=z;
       
      }
      function set_arrows(arrow){
      sessionStorage.setItem('arrow',arrow);  
     //  alert(sessionStorage.getItem('level'));
        var data = {
          funcName: 'set_arrows',
          params: [
            arrow
          ]
        }
        document.getElementById('bulletCounter').setAttribute('value',arrow);
       
      }
      function set_timer(time){
      sessionStorage.setItem('timer',time);  
     //  alert(sessionStorage.getItem('level'));
        var data = {
          funcName: 'set_timer',
          params: [
            time
          ]
        }
        document.getElementById('timer').setAttribute('value',time);
       
      }
      function start_game() {
    var gameDiv = document.getElementById('game');
    // window.open('game.html',"_self");
  
      var data = {
        funcName: 'start_game',
        params: []
      }
        var drMenuDiv = document.getElementById('dr-menu');
    
        drMenuDiv.style.visibility = 'hidden';
        gameDiv.style.visibility = 'visible';
document.querySelector("a-scene").setAttribute("time-manger","enable",true);
document.getElementById("butterflymodel").setAttribute("distractor","enable",true);
    
}*/
    </script>
</html>